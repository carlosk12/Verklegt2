@model  StalkBook.Models.StatusViewModel

@{
    ViewBag.Title = "Index";
}

@*@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    }
*@

<div class="newsfeed-box">
    <form role="form" method="post">
        <div class="form-group status-content">
            @Html.TextAreaFor(model => model.body, new { @rows = 5, @cols = 50, @maxlength = 200, @placeholder = "What's happening?", htmlAttributes = new { @class = "form-control" } })
            @Html.TextAreaFor(model => model.urlToPic, new { @rows = 1, @cols = 50, @maxlength = 250, @placeholder = "Enter url to picture...", htmlAttributes = new { @class = "form-control" } })
        </div>
        <button type="submit" class="btn btn-default">Post</button>
    </form>
</div>

<div class="all-statuses">
   
    @foreach (var item in Model.availableStatuses)
    {       
        <div class="content">
            <div class="upvoted" role="button" tabindex="0"></div>
            <div class="downvoted" role="button" tabindex="0"></div>
            <p>@Html.ActionLink(item.fullName, "GetProfile", "Profile", new {Id = item.userId}, null)</p>
            <p>@item.timeCreated.Date.ToShortDateString() @item.timeCreated.ToShortTimeString()</p>
            <p>@item.body</p>
            @if (!String.IsNullOrEmpty(item.urlToPic))
            {
                <img class="status-picture" src="@Url.Content(item.urlToPic)" alt="Image" />
            }    
        </div>     
    }
</div>


